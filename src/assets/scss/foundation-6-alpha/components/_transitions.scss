// TRANSITION LIBRARY
$transition-normal-duration: 700ms;
$animate-class: "animate";

$default-origin: left;


@function compact($var-1, $var-2: false, $var-3: false, $var-4: false, $var-5: false, 
  $var-6: false, $var-7: false, $var-8: false, $var-9: false, $var-10: false) {

  $full: $var-1;
  $vars: $var-2, $var-3, $var-4, $var-5,
         $var-6, $var-7, $var-8, $var-9, $var-10;

  @each $var in $vars {
    @if $var {
      $full: $full, $var;
    }
  }
  @return $full;
}

// TRANSITION OPTIONS

// Include up to 10 properties
@mixin transition-property(
  $property-1 : $property,  
  $property-2 :"",  
  $property-3 :"",  
  $property-4 :"",  
  $property-5 :"",  
  $property-6 :"",  
  $property-7 :"",  
  $property-8 :"",  
  $property-9 :"",  
  $property-10:""  
) {
  transition-property: $property-1 $property-2 $property-3 $property-4 $property-5 $property-6 $property-7 $property-8 $property-9 $property-10;
}

// Include up to 10 durations
@mixin transition-duration(
  $duration-1 : $transition-normal-duration,  
  $duration-2 :"",  
  $duration-3 :"",  
  $duration-4 :"",  
  $duration-5 :"",  
  $duration-6 :"",  
  $duration-7 :"",  
  $duration-8 :"",  
  $duration-9 :"",  
  $duration-10:""  
) {
  transition-duration: $duration-1 $duration-2 $duration-3 $duration-4 $duration-5 $duration-6 $duration-7 $duration-8 $duration-9 $duration-10;
}

@mixin transition-base($bfv:hidden) {
  backface-visibility: hidden;
  transform: translateZ(0);
}

@mixin transform-functions(
  $function-1 : translateZ,  
  $value-1    : 0,  
  $function-2 :"",
  $value-2    :"",  
  $function-3 :"",
  $value-3    :"",  
  $function-4 :"",
  $value-4    :"",  
  $function-5 :"",
  $value-5    :"",  
  $function-6 :"",
  $value-6    :"",  
  $function-7 :"",
  $value-7    :"",  
  $function-8 :"",
  $value-8    :"",  
  $function-9 :"",
  $value-9    :"",  
  $function-10:"",
  $value-10   :""
) {
  transform: $function-1($value-1) $function-2($value-2) $function-3($value-3) $function-4($value-4) $function-5($value-5) $function-6($value-6) $function-7($value-7) $function-8($value-8) $function-9($value-9) $function-10($value-10);
}

// destination
@mixin transition-destination($x:0, $y:0, $rotate:0deg, $scale:1, $adjust-opacity:true) {
  @include transform-functions(translateX, $x, translateY, $x, rotate, $rotate, scale, $scale);
  @if $adjust-opacity == true { opacity: 1; }
}

// SLIDE
@mixin slide ($origin: from-#{$default-origin}){

  // origin
  @if $origin == from-top     { @include transform-functions(translateY, -100%); }
  @if $origin == from-right   { transform: translateX(100%); }
  @if $origin == from-bottom  { @include transform-functions(translateY, 100%); }
  @if $origin == from-left    { transform: translateX(-100%); }
  
}

// HINGE
@mixin hinge ($origin: from-#{$default-origin}, $perspective: 2000px){
  // origin
  @if $origin == from-top     { 
    transform: perspective($perspective) rotateX(90deg);
    transform-origin: top; 
  }
  @if $origin == from-right   { 
    transform: perspective($perspective) rotateY(90deg); 
    transform-origin: right;
  }
  @if $origin == from-bottom  { 
    transform: perspective($perspective) rotateX(-90deg);
    transform-origin: bottom; 
  }
  @if $origin == from-left { 
    transform: perspective($perspective) rotateY(-90deg); 
    transform-origin: left;
  }
}

// SCALE
@mixin scale(){
  transform: scale(1.5);
}



// TRANSITION MIXIN
@mixin transition (
  $transition-name,
  $origin: from-#{$default-origin},
  $duration: $transition-normal-duration, 
  $timing-function: ease,
  $adjust-opacity: true,
  $perspective:2000px,
  $delay:""
){
  @include transition-base();

  @if $transition-name == slide { @include slide($origin:$origin); }
  @if $transition-name == hinge { @include hinge($origin:$origin, $perspective:$perspective); }
  @if $transition-name == scale { @include scale(); }

  // duration
  transition-duration: $duration;

  &.#{$animate-class} {
    @include transition-destination();
  }

  // timing function
  transition-timing-function: $timing-function;

  // delay 
  transition-delay: $delay;

  // transition properties
  @include transition-property(transform);
  @if $adjust-opacity == true {
    opacity: 0;
    transition-property: transform, opacity;
  }

}