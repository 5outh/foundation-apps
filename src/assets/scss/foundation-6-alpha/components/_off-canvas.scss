/*
	Off-canvas menus
*/

// PH
body {
	overflow: hidden;
}

// Alternate off-canvas
.ofc {
	$size: 250px;
	$shadow-length: 3px;
	$shadow-size: 10px;
	$shadow-color: rgba(0, 0, 0, 0.25);

	position: absolute;
	background: #666;
	color: white;
	overflow-y: scroll;
	transition: transform 0.25s ease-out;
	backface-visibility: hidden;

	// Active state
	&.is-active {
		transform: translate(0,0);
	}

	// Frame styles
	& ~ .frame {
		transform: translate(0,0,0);
		transition: transform 0.25s ease-out;
		backface-visibility: hidden;
		background: white;
	}

	// Positioning
	&, &-left, &-right {
		width: $size;
		height: 100%;
	}
	&-top, &-bottom {
		height: $size;
		width: 100%;
	}
	&, &-left {
		top: 0;
		left: 0;
		box-shadow: inset -$shadow-length 0 $shadow-size $shadow-color;
		transform: translateX(-100%);
		&.is-active {
			& ~ .frame { transform: translateX($size); }
		}
	}
	&-right {
		left: auto;
		top: 0;
		right: 0;
		box-shadow: inset $shadow-length 0 $shadow-size $shadow-color;
		transform: translateX(100%);
		&.is-active {
			& ~ .frame { transform: translateX(-$size); }
		}
	}
	&-top {
		top: 0;
		left: 0;
		transform: translateY(-100%);
		box-shadow: inset 0 (-$shadow-length) $shadow-size $shadow-color;
		&.is-active {
			& ~ .frame { transform: translateY($size); }
		}
	}
	&-bottom {
		top: auto;
		bottom: 0;
		left: 0;
		transform: translateY(100%);
		box-shadow: inset 0 $shadow-length $shadow-size $shadow-color;
		&.is-active {
			& ~ .frame { transform: translateY(-$size); }
		}
	}

	// Detached frame - stays stationary under the content
	&.detached {
		z-index: 0;
		& ~ .frame {
			z-index: 1;
			box-shadow: 0 0 15px rgba(0,0,0,0.5);
		}

		&, &.is-active {
			transform: none;
		}
	}

	// Restyle lists to be darker
	.block-list {
		header {
			color: #ccc;
		}
		li {
			border-color: #555;
		}
		a {
			color: white;
			&:hover {
				color: white;
				background: #777;
			}
		}
	}
}