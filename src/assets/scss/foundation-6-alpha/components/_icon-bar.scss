// Icon Bar component

$icon-bar-bg: #333;
$icon-bar-hover-bg: $primary-color;
$icon-bar-color: #fff;
$icon-bar-border-color: rgba(255,255,255,0.3);

%menu-bar {
  display: flex;
  background: $icon-bar-bg;
  color: $icon-bar-color;
  margin-left: 0;
  border: 0;

  li {
    display: flex;
    flex: 1 1 auto;
    flex-flow: column nowrap;
    align-items: stretch;

    border-right: 1px solid $icon-bar-border-color;
    &:last-child {
      border-right: none;
    }

    a {
      display: block;
      padding: 1rem;
      color: white;
      display: inline-flex;
      flex-flow: column nowrap;
      align-items: center;
      line-height: 1;

      &:hover {
        background: $icon-bar-hover-bg;
      }
    }
    img {
      width: 25px;
      height: 25px;

      & + span {
        margin-top: 0.5rem;
      }
    }
  }

  &-icon-left {
    a {
      flex-flow: row nowrap;
      align-items: center;
      img { margin-right: 0.5rem; }
      span { margin-top: 0; }
    }
  }
  &-icon-right {
    a {
      flex-flow: row-reverse nowrap;
      img { margin-left: 0.5rem; }
      span { margin-top: 0; }
    }
  }
  &-icon-bottom {
    a {
      flex-flow: column-reverse nowrap;
      img + span { margin-top: 0; margin-bottom: 0.5rem; }
    }
  }
}

@mixin menu-bar($icon-position: top) {
  @extend %menu-bar;

  @if $icon-position != top {
    @extend %icon-#{$icon-position};
  }
}
@mixin vertical-menu-bar {
  &-vertical {
    flex-flow: column nowrap;

    a {
      flex-flow: row nowrap;
      border-left: none;
      border-bottom: 1px solid $icon-bar-border-color;

      &:last-child { border-botto: none; }
      span { margin-top: 0; }
      img + span { margin-left: 1rem; }
    }
  }
}

.icon-bar {
  @include menu-bar;

  &.icon-left { @extend %menu-bar-icon-left; }
  &.icon-right { @extend %menu-bar-icon-right; }
  &.icon-bottom { @extend %menu-bar-icon-bottom; }
  &.vertical { @include vertical-menu-bar; }

  @each $size, $breakpoint in ('medium': $medium-up, 'large': $large-up) {
    @media #{$breakpoint} {
      &.#{$size}-vertical {
        @include vertical-menu-bar;
      }
    }
  }
}
