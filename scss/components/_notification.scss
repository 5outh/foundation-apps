$notification-default-position: right top;
$notification-float-offset: 1rem;
$notification-width: rem-calc(400);

$notification-background: #698bda;
$notification-color: white;
$notification-padding: 1rem;
$notification-radius: 4px;

%notification {
  position: fixed;
  z-index: 1000;

  h1 {
    font-size: 1.25em;
    margin: 0;
  }
  p {
    margin: 0;
  }

  // Placeholder animation
  transition: transform 0.25s ease-out;
  &.is-active {
    transform: translateX(0%) translateY(0%) !important;
  }

  .close-button {
    color: white;
  }
}

@mixin notification-structure(
  $x: null,
  $y: null,
  $size: $notification-width,
  $style: float
) {
  // Default values
  $x: if($x == null, nth($notification-default-position, 1), $x);
  $y: if($y == null, nth($notification-default-position, 2), $y);

  // Float style: detached from edge of screen
  // Pin style:   attached to edge of screen
  $offset: if($style == float, $notification-float-offset, 0);

  width: $size;

  @if $x == right {
    right: $offset;
    transform: translateX(110%);
  }
  @else if $x == left {
    left: $offset;
    transform: translateX(-110%);
  }
  @else if $x == middle {
    left: 50%;
    margin-left: -($size / 2);

    @if $y == top {
      transform: translateY(-110%);
    }
    @else if $y == bottom {
      transform: translateY(110%);
    }
  }

  @if $y == top {
    top: $offset;
  }
  @else if $y == bottom {
    top: auto;
    bottom: $offset;
  }

  // On small screens, notifications are full width but maintain their vertical orientation
  @media #{$small-only} {
    width: auto;
    left: $offset;
    right: $offset;
    margin-left: 0;
  }
}
@mixin notification-style(
  $background: $notification-background,
  $color: $notification-color,
  $padding: $notification-padding,
  $radius: $notification-radius
) {
  background: $background;
  padding: $padding;
  border-radius: $radius;

  &, h1, h2, h3, h4, h5, h6 {
    color: $color;
  }
}

@mixin notification(
  $x: null,
  $y: null,
  $size: $notification-width,
  $style: float,
  $background: $notification-background,
  $color: $notification-color,
  $padding: $notification-padding,
  $radius: $notification-radius
) {
  @extend %notification;
  @include notification-structure($x, $y, $size, $style);
  @include notification-style($background, $color, $padding, $radius);
}

/*
  CSS Output
*/

.notification {
  @include notification;

  &.top-right { @include notification-structure(right, top); }
  &.top-left { @include notification-structure(left, top); }
  &.top-middle { @include notification-structure(middle, top); }

  &.bottom-right { @include notification-structure(right, bottom); }
  &.bottom-left { @include notification-structure(left, bottom); }
  &.bottom-middle { @include notification-structure(middle, bottom); }

  &.success   { @include notification-style($success-color) }
  &.warning   { @include notification-style($warning-color) }
  &.alert     { @include notification-style($alert-color) }
}
